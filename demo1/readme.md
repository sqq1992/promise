

使用promise思想实现帧动画
(ps:帧动画就是关于页面每次绘制不同的内容, 而连续形成的动画!)

1.背景介绍:
(1)为了更加灵活方便操作动画对业务的影响和推进! (列如更灵活的让某个动画结束后, 去执行某项业务操作等)
(2)帧动画的方式: Gif, Css3 animation, js!   由于Gif和css3天然的缺陷, 无法灵活控制动画的暂停和播放, 也无法捕捉到任何关于动画的事件! 

2.实现帧动画原理
(1). 有多种帧图片的话, 可以改image的src属性
(2). 将所有动画关键帧绘制在一个image里, 通过控制background-positions!

--------------------------------------------------------


针对以上的情况, 设计动画库之前, 首先先进行次需求分析, 然后是编程接口, 再调用方式, 最后是代码编写!

1.需求分析:
(1).支持图片预加载
(2).支持单组动画的循环次数
(3).支持一组动画完成, 然后再支持下一组动画
(4).支持每个动画完成后有等待时间
(5).支持动画暂停和继续播放
(6).支持动画完成后执行回调函数 

2.编程接口:
基于需求分析的基础上, 设计易与理解的api!


3.调用方式:
从使用者的角度出发, 个人觉得链式调用很舒服!

4.代码设计:
(1).把'图片加载','动画执行','动画结束'等一系列的操作可以看成是任务链(用数组表示)
任务链有2种类型的任务: 同步和异步
(2).通过记录和改变任务连的索引, 就可以控制整个动画的流程了!